{"ast":null,"code":"import { useContext, useEffect, useState } from 'react';\nimport { ContentContext } from '../context';\nimport { useAppSelector } from '../store';\nexport function useAppContent(collectionName) {\n  let initialFetch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const records = useAppSelector(state => state.reducer.records[collectionName]);\n  const subscriptions = useAppSelector(state => state.reducer.subscriptions);\n  const context = useContext(ContentContext);\n  useEffect(() => {\n    if (initialFetch) {\n      (async () => {\n        await context.fetch(collectionName);\n      })();\n    }\n  }, [collectionName, initialFetch]);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  useEffect(() => {\n    setIsSubscribed(subscriptions.includes(collectionName));\n  }, [subscriptions]);\n  const actions = {\n    subscribe: async () => await context.subscribe(collectionName),\n    unsubscribe: async () => await context.unsubscribe(collectionName),\n    fetch: async () => await context.fetch(collectionName),\n    create: async record => await context.create(collectionName, record),\n    update: async (id, record) => await context.update(collectionName, id, record),\n    delete: async id => await context.delete(collectionName, id)\n  };\n  return {\n    records,\n    actions,\n    isSubscribed\n  };\n}","map":{"version":3,"names":["useContext","useEffect","useState","ContentContext","useAppSelector","useAppContent","collectionName","initialFetch","arguments","length","undefined","records","state","reducer","subscriptions","context","fetch","isSubscribed","setIsSubscribed","includes","actions","subscribe","unsubscribe","create","record","update","id","delete"],"sources":["/Users/robinrattasep/Downloads/pb_react/node_modules/pocketbase-react/es/hooks/useAppContent.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { ContentContext } from '../context';\nimport { useAppSelector } from '../store';\nexport function useAppContent(collectionName, initialFetch = false) {\n  const records = useAppSelector(state => state.reducer.records[collectionName]);\n  const subscriptions = useAppSelector(state => state.reducer.subscriptions);\n  const context = useContext(ContentContext);\n  useEffect(() => {\n    if (initialFetch) {\n      (async () => {\n        await context.fetch(collectionName);\n      })();\n    }\n  }, [collectionName, initialFetch]);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  useEffect(() => {\n    setIsSubscribed(subscriptions.includes(collectionName));\n  }, [subscriptions]);\n  const actions = {\n    subscribe: async () => await context.subscribe(collectionName),\n    unsubscribe: async () => await context.unsubscribe(collectionName),\n    fetch: async () => await context.fetch(collectionName),\n    create: async record => await context.create(collectionName, record),\n    update: async (id, record) => await context.update(collectionName, id, record),\n    delete: async id => await context.delete(collectionName, id)\n  };\n  return {\n    records,\n    actions,\n    isSubscribed\n  };\n}"],"mappings":"AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,cAAc,QAAQ,YAAY;AAC3C,SAASC,cAAc,QAAQ,UAAU;AACzC,OAAO,SAASC,aAAaA,CAACC,cAAc,EAAwB;EAAA,IAAtBC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAChE,MAAMG,OAAO,GAAGP,cAAc,CAACQ,KAAK,IAAIA,KAAK,CAACC,OAAO,CAACF,OAAO,CAACL,cAAc,CAAC,CAAC;EAC9E,MAAMQ,aAAa,GAAGV,cAAc,CAACQ,KAAK,IAAIA,KAAK,CAACC,OAAO,CAACC,aAAa,CAAC;EAC1E,MAAMC,OAAO,GAAGf,UAAU,CAACG,cAAc,CAAC;EAC1CF,SAAS,CAAC,MAAM;IACd,IAAIM,YAAY,EAAE;MAChB,CAAC,YAAY;QACX,MAAMQ,OAAO,CAACC,KAAK,CAACV,cAAc,CAAC;MACrC,CAAC,GAAG;IACN;EACF,CAAC,EAAE,CAACA,cAAc,EAAEC,YAAY,CAAC,CAAC;EAClC,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACvDD,SAAS,CAAC,MAAM;IACdiB,eAAe,CAACJ,aAAa,CAACK,QAAQ,CAACb,cAAc,CAAC,CAAC;EACzD,CAAC,EAAE,CAACQ,aAAa,CAAC,CAAC;EACnB,MAAMM,OAAO,GAAG;IACdC,SAAS,EAAE,MAAAA,CAAA,KAAY,MAAMN,OAAO,CAACM,SAAS,CAACf,cAAc,CAAC;IAC9DgB,WAAW,EAAE,MAAAA,CAAA,KAAY,MAAMP,OAAO,CAACO,WAAW,CAAChB,cAAc,CAAC;IAClEU,KAAK,EAAE,MAAAA,CAAA,KAAY,MAAMD,OAAO,CAACC,KAAK,CAACV,cAAc,CAAC;IACtDiB,MAAM,EAAE,MAAMC,MAAM,IAAI,MAAMT,OAAO,CAACQ,MAAM,CAACjB,cAAc,EAAEkB,MAAM,CAAC;IACpEC,MAAM,EAAE,MAAAA,CAAOC,EAAE,EAAEF,MAAM,KAAK,MAAMT,OAAO,CAACU,MAAM,CAACnB,cAAc,EAAEoB,EAAE,EAAEF,MAAM,CAAC;IAC9EG,MAAM,EAAE,MAAMD,EAAE,IAAI,MAAMX,OAAO,CAACY,MAAM,CAACrB,cAAc,EAAEoB,EAAE;EAC7D,CAAC;EACD,OAAO;IACLf,OAAO;IACPS,OAAO;IACPH;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}